{% extends "base.html" %}
{%block body%}






   <section class="secciones mt-32 min-h-screen flex">
       <h2 class="titulo text-3xl px-6 font-bold translate-x-[3%]">Pel√≠culas destacadas</h2>


       <div class="cards-peliculas grid grid-cols-4 gap-4 justify-items-center mt-32">
      
           <div class="card-pelicula felx flex-col items-center">
               <img src="{{ url_for('static', filename='img/fast7.jpg') }}" alt="Fast & Furious 7" class="img-card w-48 h-64 object-cover rounded-t-2xl shadow-lg">
               <div class="bg-gray-800 text-white w-48 rounded-b-2xl p-3 text-center shadow-md">
                   <h3 class="text-lg font-semibold">A Todo Gas</h3>
                   <p class="text-sm text-gray-300">Accion</p>
               </div>
           </div>


           <div class="card-pelicula">
               <img src="{{ url_for('static', filename='img/moana.jpg') }}" alt="Moana" class="img-card w-48 h-64 object-cover rounded-t-2xl shadow-lg">
            <div class="bg-gray-800 text-white w-48 rounded-b-2xl p-3 text-center shadow-md">
                   <h3 class="text-lg font-semibold">Moana</h3>
                   <p class="text-sm text-gray-300">Animaci√≥n</p>
               </div>
           </div>
           <div class="card-pelicula">
               <img src="{{ url_for('static', filename='img/mufasa.jpg') }}" alt="Mufasa" class="img-card w-48 h-64 object-cover rounded-t-2xl shadow-lg">
               <div class="bg-gray-800 text-white w-48 rounded-b-2xl p-3 text-center shadow-md">
                   <h3 class="text-lg font-semibold">Mufasa</h3>
                   <p class="text-sm text-gray-300">Animaci√≥n</p>
               </div>
           </div>


           <div class="card-pelicula">
               <img src="{{ url_for('static', filename='img/gladiator.jpg') }}" alt="Gladiator" class="img-card w-48 h-64 object-cover rounded-t-2xl shadow-lg">
               <div class="bg-gray-800 text-white w-48 rounded-b-2xl p-3 text-center shadow-md">
                   <h3 class="text-lg font-semibold">Gladiator</h3>
                   <p class="text-sm text-gray-300">Accion</p>
               </div>
           </div>
       </div>
   </section>




  <section class="secciones mt-32 min-h-screen flex flex-col">
  <h2 class="titulo text-3xl px-6 font-bold translate-x-[3%] mb-8">
    Pel√≠culas En cartelera
  </h2>

  <div class="cards-peliculas  grid grid-cols-4 gap-2 justify-items-center gap-y-12">
    {% for p in peliculas %}
    <div class="card-pelicula {% if loop.index > 8 %} hidden extra-pelicula {% endif %}"
    onclick='mostrarPelicula( 
        {{ p.titulo|tojson }},
        {{ p.duracion|tojson}},
        {{ p.sinopsis|tojson}},
        {{ p.director|tojson}},
        {{ p.genero|tojson}},
        
    )'>
      <img 
        src="{{ url_for('static', filename='img/gladiator.jpg') }}" 
        alt="{{ p.titulo }}" 
        class="img-card w-48 h-64 object-cover rounded-2xl shadow-lg">
      <div class=" text-white w-48 rounded-b-2xl shadow-md">
        <h3 class="text-lg font-semibold">{{ p.titulo }}</h3>
            <div class="flex justify-between text-sm text-gray-300">
                <p>{{ p.genero }}</p>
                <p>{{ p.duracion }}'</p>
</div>
      </div>
    </div>
    {% endfor %}
  </div>
</section>
<div class="text-center mt-8">
    <button id="btnMostrarMas" class="px-6 py-3 bg-red-600 hover:bg-red-700 text-white text-lg rounded-xl font-semibold">
        Mostrar m√°s
    </button>


<script>
function mostrarPelicula(titulo, duracion, sinopsis, director, genero, imagen) {

    Swal.fire({
        width: '80%',
        background: '#111',
        color: '#fff',
        showConfirmButton: false,
        html: `
        <div class="flex flex-col md:flex-row text-left">

            
            <div class="md:w-1/3">
                <img src="{{ url_for('static', filename='img/gladiator.jpg') }}" class="rounded-lg shadow-lg w-full mb-2">

               
                <div class="mt-2">
                    <span class="px-3 py-1 bg-gray-700 rounded-full text-sm inline-block">
                        ${genero}
                    </span>
                </div>
            </div>

           
            <div class="md:w-2/3 md:pl-6">
                <h1 class="text-3xl font-bold mb-2 text-red-700">${titulo}</h1>

                <p class="text-gray-300 mb-4 leading-relaxed">${sinopsis}</p>

                <p class="text-sm text-gray-400 mb-2"><b>Director:</b> ${director}</p>
                <p class="text-sm text-gray-400 mb-4"><b>Duraci√≥n:</b> ${duracion} min</p>

                <h2 class="text-xl font-semibold text-white mb-2">Horarios disponibles</h2>
                <div class="flex flex-wrap gap-3 mb-6">
                    <button class="px-4 py-2 bg-gray-700 rounded hover:bg-red-700">16:50</button>
                    <button class="px-4 py-2 bg-gray-700 rounded hover:bg-red-700">19:20</button>
                    <button class="px-4 py-2 bg-gray-700 rounded hover:bg-red-700">21:50</button>
                    <button class="px-4 py-2 bg-gray-700 rounded hover:bg-red-700">22:50</button>
                </div>

                <div class="text-center">
                    <button onclick="window.location.href='/comprar'" 
                            class="px-6 py-3 bg-red-600 rounded text-white font-bold hover:bg-red-700">
                        Comprar Entrada üéüÔ∏è
                    </button>
                </div>
            </div>

        </div>
        `
    });
}
</script>


<script>
document.getElementById("btnMostrarMas").addEventListener("click", function () {
    document.querySelectorAll(".extra-pelicula").forEach(card => {
        card.classList.remove("hidden");
    });

    this.style.display = "none"; 
});
</script>





<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</body>



</html>


{% endblock %}
